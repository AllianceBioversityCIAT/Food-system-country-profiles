{% import "./view/macros/card-indicator.twig" as cardIndicator %}
{% import "./view/macros/card-component.twig" as cardComponent %}

<section class="content-dashboard-country-profile mt-5" style="overflow-x: hidden; overflow-y: hidden;">
    <div class="container-dashboard">
        <div class="left-menu">
            <div class="nav-menu">
                <div class="navigation-title-dashboard">
                    <p>{{ post.title }}</p>
                </div>
                <div class="navigation-menu">
                    {% for item in countries %}
                        <a href="{{ function( 'get_permalink', post.ID ) }}?country={{ item.slug }}"
                           class="{{ country == item.slug ? 'current-menu-item': '' }} menu-item">
                            <div class="dashboard-list-item-index">
                            </div>
                            <p class="menu-title">{{ item.name }}</p>
                        </a>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="content-dashboard">
            {% if ( country is empty ) %}
                <div class="content-dashboard-empty">
                    <img class="empty-graph" width="155" height="90"
                         src="{{ theme.link ~ '/static/images/empty_graph.png' }}" alt="Empty Graph">
                    <h1 class="dashboard-title">Select a country to show indicators</h1>
                </div>
            {% else %}
                <h1 class="dashboard-title">You are seeing {{ country|capitalize }} food system dashboard</h1>
                <div class="content-graph">
                    <div class="grid-left-graph">
                        <div class="grid-narrative">
                            <p>Learn more about the pilot project in <a
                                        href="{{ countryFields.narrative_page }}">{{ country|capitalize }}</a></p>
                        </div>
                        <div class="grid-graph-comparative-bars">
                            <div class="col">
                                <div class="tabs">
                                    <div class="tab">
                                        <input type="radio" class="sfsc-radio-component" id="radio-driven" name="rd" checked>
                                        <label class="tab-label" for="radio-driven">
                                            {{ post.meta( 'dash_driver_title_text' ) }}
                                        </label>
                                        <div class="tab-content">{{ post.meta( 'dash_driver_description' ) }}</div>
                                    </div>
                                    <div class="tab">
                                        <input type="radio" class="sfsc-radio-component" id="radio-actors" name="rd">
                                        <label class="tab-label" for="radio-actors">
                                            {{ post.meta( 'dash_actors_title_text' ) }}
                                        </label>
                                        <div class="tab-content">{{ post.meta( 'dash_actors_description' ) }}</div>
                                    </div>
                                    <div class="tab">
                                        <input type="radio" class="sfsc-radio-component" id="radio-environment" name="rd">
                                        <label class="tab-label" for="radio-environment">
                                            {{ post.meta( 'dash_environment_title_text' ) }}
                                        </label>
                                        <div class="tab-content">{{ post.meta( 'dash_environment_description' ) }}</div>
                                    </div>
                                    <div class="tab">
                                        <input type="radio" class="sfsc-radio-component" id="radio-behavior" name="rd">
                                        <label class="tab-label" for="radio-behavior">
                                            {{ post.meta( 'dash_behavior_title_text' ) }}
                                        </label>
                                        <div class="tab-content">{{ post.meta( 'dash_behavior_description' ) }}</div>
                                    </div>
                                    <div class="tab">
                                        <input type="radio" class="sfsc-radio-component" id="radio-outcomes" name="rd">
                                        <label class="tab-label" for="radio-outcomes">
                                            {{ post.meta( 'dash_outcomes_title_text' ) }}
                                        </label>
                                        <div class="tab-content">{{ post.meta( 'dash_outcomes_description' ) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="grid-graph-radar">
                            <div class="title-download">
                                <p>{{ country|capitalize }}</p>
                                <i id="radar-chart-download" aria-hidden="true"
                                   class="fas fa-download click-download"></i>
                            </div>
                            <div id="graph-radar" class="graph-radar">
                                <canvas id="radar-chart" width="410" height="410"
                                        style="background-color: #f7f8fc;"></canvas>
                            </div>
                        </div>
                        <div class="grid-graph-lineal">
                            <div class="title-download">
                                <p id="title-line-chart"></p>
                                <i id="line-chart-download" aria-hidden="true"
                                   class="fas fa-download click-download"></i>
                            </div>
                            <div id="graph-line" class="graph-line">
                                <canvas id="line-chart" width="410" height="310"></canvas>
                                <div class="graph-bars-label">
                                    <div class="bar-label"><i
                                                class="fas fa-circle label-one"></i><span>{{ country|capitalize }}</span>
                                    </div>
                                    <div class="bar-label"><i class="fas fa-circle label-two"></i><span>Geographic neighbors</span>
                                    </div>
                                    <div class="bar-label"><i class="fas fa-circle label-three"></i><span>Countries with similar GDP per capita</span>
                                    </div>
                                    <div class="bar-label"><i
                                                class="fas fa-circle label-four"></i><span>World average</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="grid-indicators-graph">
                        <div class="grid-status-bar">
                            {{ cardComponent.component( 'Drivers', componentDrivers, 'tab-drivers', true ) }}
                            {{ cardComponent.component( 'Actors and activities', componentActors, 'tab-actors-activities' ) }}
                            {{ cardComponent.component( 'Food environment', componentFood, 'tab-food-environment' ) }}
                            {{ cardComponent.component( 'Consumer behavior', componentConsumer, 'tab-consumer-behavior' ) }}
                            {{ cardComponent.component( 'Outcomes', componentOutcomes, 'tab-outcomes' ) }}
                        </div>
                        <div id="grid-graph-bar" class="grid-graph-bar">
                            <p id="graph-bar-title" class="graph-bar-title"></p>
                            <div class="graph-bar">
                                <canvas id="bar-chart" width="800" height="200"></canvas>
                            </div>
                            <div class="button-download">
                                <div class="alert-message-gn">
                                    <div class='message-hover'>
                                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path d="M17.5 9C17.5 13.6944 13.6944 17.5 9 17.5C4.30558 17.5 0.5 13.6944 0.5 9C0.5 4.30558 4.30558 0.5 9 0.5C13.6944 0.5 17.5 4.30558 17.5 9Z"
                                                  fill="white" stroke="#777777"/>
                                            <path d="M8.8507 6.24046C9.6355 6.24046 10.2717 5.60425 10.2717 4.81945C10.2717 4.03465 9.6355 3.39844 8.8507 3.39844C8.0659 3.39844 7.42969 4.03465 7.42969 4.81945C7.42969 5.60425 8.0659 6.24046 8.8507 6.24046Z"
                                                  fill="#777777"/>
                                            <path d="M9.80864 7.16406H7.98319C7.72065 7.16406 7.50781 7.3769 7.50781 7.63944V14.1572C7.50781 14.4198 7.72065 14.6326 7.98319 14.6326H9.80864C10.0712 14.6326 10.284 14.4198 10.284 14.1572V7.63944C10.284 7.3769 10.0712 7.16406 9.80864 7.16406Z"
                                                  fill="#777777"/>
                                        </svg>
                                        <div class='message-info'>
                                            <span>
                                                {% for item in countryFields.neighboring_countries_repeater %}
                                                    {{ item.neighboring_country }}{{ not loop.last ? ',': '.' }}
                                                {% endfor %}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="alert-message-gdp">
                                    <div class='message-hover'>
                                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path d="M17.5 9C17.5 13.6944 13.6944 17.5 9 17.5C4.30558 17.5 0.5 13.6944 0.5 9C0.5 4.30558 4.30558 0.5 9 0.5C13.6944 0.5 17.5 4.30558 17.5 9Z"
                                                  fill="white" stroke="#777777"/>
                                            <path d="M8.8507 6.24046C9.6355 6.24046 10.2717 5.60425 10.2717 4.81945C10.2717 4.03465 9.6355 3.39844 8.8507 3.39844C8.0659 3.39844 7.42969 4.03465 7.42969 4.81945C7.42969 5.60425 8.0659 6.24046 8.8507 6.24046Z"
                                                  fill="#777777"/>
                                            <path d="M9.80864 7.16406H7.98319C7.72065 7.16406 7.50781 7.3769 7.50781 7.63944V14.1572C7.50781 14.4198 7.72065 14.6326 7.98319 14.6326H9.80864C10.0712 14.6326 10.284 14.4198 10.284 14.1572V7.63944C10.284 7.3769 10.0712 7.16406 9.80864 7.16406Z"
                                                  fill="#777777"/>
                                        </svg>
                                        <div class='message-info'>
                                            <span>
                                                {% for item in countryFields.countries_similar_dgp_repeater %}
                                                    {{ item.similar_dgp_country }}{{ not loop.last ? ',': '.' }}
                                                {% endfor %}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <i id="bar-chart-download" aria-hidden="true"
                                   class="fas fa-download click-download"></i>
                            </div>
                        </div>
                        <div class="grid-tab-indicators">
                            <div class="indicators-tabs">
                                <ul class="tabs">
                                    <li id="tab-drivers" data-component-id="component-drivers"><a href="#indicator-drivers">Drivers</a></li>
                                    <li id="tab-actors-activities" data-component-id="component-actors-and-activities"><a href="#indicator-actors-activities">Actors and activities</a></li>
                                    <li id="tab-food-environment" data-component-id="component-food-environment"><a href="#indicator-food-environment">Food environment</a></li>
                                    <li id="tab-consumer-behavior" data-component-id="component-consumer-behavior"><a href="#indicator-consumer-behavior">Consumer behavior</a></li>
                                    <li id="tab-outcomes" data-component-id="component-outcomes"><a href="#indicator-outcomes">Outcomes</a></li>
                                </ul>

                                <div class="tab_container">
                                    <div class="tab_content" id="indicator-drivers">
                                        <!--Content-->
                                        {{ cardIndicator.indicator( indicatorDrivers, true ) }}
                                    </div>
                                    <div class="tab_content" id="indicator-actors-activities">
                                        <!--Content-->
                                        {{ cardIndicator.indicator( indicatorActors ) }}
                                    </div>
                                    <div class="tab_content" id="indicator-food-environment">
                                        <!--Content-->
                                        {{ cardIndicator.indicator( indicatorFood ) }}
                                    </div>
                                    <div class="tab_content" id="indicator-consumer-behavior">
                                        <!--Content-->
                                        {{ cardIndicator.indicator( indicatorConsumer ) }}
                                    </div>
                                    <div class="tab_content" id="indicator-outcomes">
                                        <!--Content-->
                                        {{ cardIndicator.indicator( indicatorOutcomes ) }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</section>